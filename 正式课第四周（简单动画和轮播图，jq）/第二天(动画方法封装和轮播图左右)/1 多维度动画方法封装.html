<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        #div1{
            position: absolute;
            left: 0;
            top: 0;
            width: 100px;
            height: 100px;
            background: red;
        }
        #div2{
            position: absolute;
            left: 150px;
            top :0;
            width: 100px;
            height: 100px;
            background: yellowgreen;
        }
    </style>
</head>
<body>
    <div id="div1"></div>
    <div id="div2"></div>
    <input type="button" id="button" value="button" style="position: absolute; right : 50px; bottom: 50px;">
</body>
</html>
<script src="utils2.0.js"></script>
<script src="animate.js"></script>
<script>
    var div1 = document.getElementById('div1');
    var div2 = document.getElementById('div2');
    var button = document.getElementById('button');
    button.onclick = function (){
        animate({
            callback : function (){
                this.style.opacity = 1;
                this.style.background = "black";
            },
            ele : div1,
            target : {
                width : 200,
                height : 200,
                left : 500,
                top : 500,
                opactiy : 0
            },
            duration : 3000,
            //effect : 1
            effect : 2
        });
    }
    function fn(){
        div1.style.background = 'green';
    }



//    animate(div1,{width: 200, height : 200, left : 200, top : 200},1000,function (){
//        //this;
//        div2.style.background = 'black';
//    });





//    animate(div2,{width: 300, height : 300, left : 500},1000,function (){
//        this; // div2
//        animate(this,{top:300},500,function (){
//            animate(this,{left : 0},500, function (){
//                animate(this,{left:0,top:0, width:100,height:100,opacity:0},500)
//            });
//        });
//    });
    function foo(){
        this.style.background = 'blue';
        div2.innerHTML = "zhangwen";
    }

//    var time = 0;
//    var duration = 1000;
//    var target = {
//        width : 150,
//        height : 150,
//        left : 200,
//        top : 200,
//        opacity : 0
//    };
//    var begin = {};
//    var change = {};
//    for(var key in target){
//        // key: width,height,left,top,opacity
//        // value: target[key]
//        begin[key] = utils.css(div1,key);
//        change[key] = target[key] - begin[key];
//    }
//    div1.timer = window.setInterval(function (){
//        time += 10;
//        if(time >= duration){
//            window.clearInterval(div1.timer);
//            utils.css(div1,target);
//            // div1.style.opacity = 1; 到达终点之后还可以继续做某事
//            return;
//        }
//        for(var key in change){
//            var value = linear(time,begin[key],change[key],duration);
//            utils.css(div1,key,value);
//        }
//    },10);
//    function linear(t,b,c,d){
//        return b + t/d*c;
//    }






</script>